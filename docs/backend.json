
{
  "entities": {
    "CustomerProfile": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "CustomerProfile",
      "type": "object",
      "description": "Represents a user of the banking application, storing their personal, contact, and identity verification information.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the CustomerProfile entity."
        },
        "accountNumber": {
          "type": "string",
          "description": "The master institutional account number for the client profile."
        },
        "username": {
          "type": "string",
          "description": "The chosen username for the client."
        },
        "profilePictureUrl": {
          "type": "string",
          "description": "URL to the user's profile image."
        },
        "firstName": {
          "type": "string",
          "description": "The first name of the customer."
        },
        "lastName": {
          "type": "string",
          "description": "The last name of the customer."
        },
        "dob": {
          "type": "string",
          "format": "date",
          "description": "Customer's date of birth."
        },
        "ssn": {
          "type": "string",
          "description": "Social Security Number or equivalent tax identification."
        },
        "email": {
          "type": "string",
          "description": "The primary email address of the customer.",
          "format": "email"
        },
        "phoneNumber": {
          "type": "string",
          "description": "The primary phone number of the customer."
        },
        "temporaryPassword": {
          "type": "string",
          "description": "The initial temporary password assigned by the administrator."
        },
        "addressLine1": {
          "type": "string",
          "description": "The first line of the customer's street address."
        },
        "city": {
          "type": "string",
          "description": "The city of the customer's address."
        },
        "state": {
          "type": "string",
          "description": "The state or province of the customer's address."
        },
        "postalCode": {
          "type": "string",
          "description": "The postal code or ZIP code of the customer's address."
        },
        "country": {
          "type": "string",
          "description": "The country of the customer's address."
        },
        "employmentStatus": {
          "type": "string",
          "description": "Current employment status."
        },
        "employerName": {
          "type": "string",
          "description": "Name of the current employer."
        },
        "jobTitle": {
          "type": "string",
          "description": "Professional job title."
        },
        "annualIncome": {
          "type": "number",
          "description": "Self-reported annual income."
        },
        "signature": {
          "type": "string",
          "description": "Base64 encoded string of the user's uploaded signature image."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp when the customer profile was created.",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "description": "Timestamp when the customer profile was last updated.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "firstName",
        "lastName",
        "email",
        "createdAt",
        "updatedAt"
      ]
    },
    "Account": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Account",
      "type": "object",
      "description": "Represents a bank account held by a customer, such as checking, savings, or credit.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Account entity."
        },
        "customerId": {
          "type": "string",
          "description": "Reference to the CustomerProfile that owns this account."
        },
        "accountNumber": {
          "type": "string",
          "description": "The unique account number for this bank account."
        },
        "accountType": {
          "type": "string",
          "description": "The type of bank account.",
          "enum": ["Current Account", "Savings Account", "Business Account", "Internet Banking", "Safety Deposits"]
        },
        "currency": {
          "type": "string",
          "description": "The currency of the account balance."
        },
        "balance": {
          "type": "number",
          "description": "The current balance of the account."
        },
        "transactionCode": {
          "type": "string",
          "description": "A unique authorization code required to perform transfers from this account."
        },
        "cotCode": {
          "type": "string",
          "description": "Cost of Transfer code."
        },
        "antCode": {
          "type": "string",
          "description": "Anti-Terrorism code."
        },
        "taxCode": {
          "type": "string",
          "description": "Tax authorization code."
        },
        "imfCode": {
          "type": "string",
          "description": "International Monetary Fund code."
        },
        "status": {
          "type": "string",
          "description": "The current status of the account."
        },
        "createdAt": {
          "type": "string",
          "description": "Timestamp when the account was created.",
          "format": "date-time"
        },
        "updatedAt": {
          "type": "string",
          "description": "Timestamp when the account was last updated.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "customerId",
        "accountNumber",
        "accountType",
        "currency",
        "balance",
        "status",
        "createdAt",
        "updatedAt"
      ]
    },
    "Transaction": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Transaction",
      "type": "object",
      "description": "Represents a financial transaction associated with a bank account.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Transaction entity."
        },
        "accountId": {
          "type": "string",
          "description": "Reference to the Account involved in this transaction."
        },
        "customerId": {
          "type": "string",
          "description": "Reference to the customer who owns the transaction record."
        },
        "transactionType": {
          "type": "string",
          "description": "The type of transaction (e.g., transfer, deposit, withdrawal)."
        },
        "amount": {
          "type": "number",
          "description": "The monetary amount of the transaction."
        },
        "currency": {
          "type": "string",
          "description": "The currency of the transaction amount."
        },
        "description": {
          "type": "string",
          "description": "A brief description of the transaction."
        },
        "metadata": {
          "type": "object",
          "description": "Detailed transfer metadata including recipient and bank details."
        },
        "transactionDate": {
          "type": "string",
          "description": "The date and time when the transaction occurred.",
          "format": "date-time"
        },
        "status": {
          "type": "string",
          "description": "The current status of the transaction."
        }
      },
      "required": [
        "id",
        "accountId",
        "transactionType",
        "amount",
        "currency",
        "description",
        "transactionDate",
        "status"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "google"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "CustomerProfile",
          "schema": {
            "$ref": "#/backend/entities/CustomerProfile"
          },
          "description": "Stores the profile information for a specific customer."
        }
      },
      {
        "path": "/users/{userId}/accounts/{accountId}",
        "definition": {
          "entityName": "Account",
          "schema": {
            "$ref": "#/backend/entities/Account"
          },
          "description": "Stores bank accounts owned by a specific customer."
        }
      },
      {
        "path": "/users/{userId}/accounts/{accountId}/transactions/{transactionId}",
        "definition": {
          "entityName": "Transaction",
          "schema": {
            "$ref": "#/backend/entities/Transaction"
          },
          "description": "Stores transaction records for a specific bank account."
        }
      }
    ]
  }
}
